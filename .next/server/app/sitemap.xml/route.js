"use strict";(()=>{var e={};e.id=717,e.ids=[717],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6323:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>_,originalPathname:()=>k,requestAsyncStorage:()=>w,routeModule:()=>g,serverHooks:()=>x,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>v});var r={};a.r(r),a.d(r,{default:()=>sitemap,dynamic:()=>p});var i={};a.r(i),a.d(i,{GET:()=>GET,dynamic:()=>p});var n=a(884),l=a(6132),o=a(1057);let s=null,u=null,d=null;async function loadData(){if(!s){let e=await a.e(20).then(a.t.bind(a,6020,19));s=e.default}if(!u){let e=await a.e(379).then(a.t.bind(a,379,19));u=e.default}if(!d){let e=await a.e(921).then(a.t.bind(a,8921,19));d=e.default}}async function getCategories(){return await loadData(),u}async function getAreas(){return await loadData(),d}async function getBusinesses(e,t){await loadData();let a=s;return"string"==typeof e?(a=a.filter(t=>t.category===e),t&&(a=a.filter(e=>e.area===t))):"number"==typeof e&&(a=a.slice(0,e)),a}let p="force-dynamic";async function sitemap(){let e="https://waterloovilledirectory.co.uk",[t,a,r]=await Promise.all([getCategories(),getAreas(),getBusinesses()]),i=[{url:e,lastModified:new Date,changeFrequency:"daily",priority:1},{url:`${e}/categories`,lastModified:new Date,changeFrequency:"weekly",priority:.8},{url:`${e}/areas`,lastModified:new Date,changeFrequency:"weekly",priority:.8}];for(let r of t)for(let t of(i.push({url:`${e}/${r.slug}`,lastModified:new Date,changeFrequency:"weekly",priority:.9}),a))i.push({url:`${e}/${r.slug}/${t.slug}`,lastModified:new Date,changeFrequency:"weekly",priority:.8});for(let t of a)i.push({url:`${e}/area/${t.slug}`,lastModified:new Date,changeFrequency:"weekly",priority:.8});for(let t of r)i.push({url:`${e}/biz/${t.slug}`,lastModified:new Date(t.updated_at),changeFrequency:"monthly",priority:.7});return i}var c=a(2450);let f={...r},y=f.default,m=f.generateSitemaps;async function GET(e,t){let a;let{__metadata_id__:r=[],...i}=t.params||{},n=r[0],l=m?await m():null;if(l&&null==(a=l.find(e=>e.id.toString()===n)?.id))return new o.NextResponse("Not Found",{status:404});let s=await y({id:a}),u=(0,c.resolveRouteData)(s,"sitemap");return new o.NextResponse(u,{headers:{"Content-Type":"application/xml","Cache-Control":"public, max-age=0, must-revalidate"}})}let g=new n.AppRouteRouteModule({definition:{kind:l.x.APP_ROUTE,page:"/sitemap.xml/route",pathname:"/sitemap.xml",filename:"sitemap",bundlePath:"app/sitemap.xml/route"},resolvedPagePath:"next-metadata-route-loader?page=%2Fsitemap.xml%2Froute&isDynamic=1!/Users/deankeating/waterlooville-directory/app/sitemap.ts?__next_metadata_route__",nextConfigOutput:"",userland:i}),{requestAsyncStorage:w,staticGenerationAsyncStorage:h,serverHooks:x,headerHooks:_,staticGenerationBailout:v}=g,k="/sitemap.xml/route"}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[729,440],()=>__webpack_exec__(6323));module.exports=a})();