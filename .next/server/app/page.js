(()=>{var e={};e.id=1931,e.ids=[1931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14021:e=>{"use strict";e.exports=import("next/dist/compiled/@vercel/og/index.node.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},70537:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var s=t(67096),a=t(16132),i=t(37284),n=t.n(i),l=t(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,71322)),"/Users/deankeating/waterlooville-directory/app/page.tsx"],metadata:{icon:[],apple:[],openGraph:[async e=>(await Promise.resolve().then(t.bind(t,56804))).default(e)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,35345)),"/Users/deankeating/waterlooville-directory/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,38196)),"/Users/deankeating/waterlooville-directory/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,44293)),"/Users/deankeating/waterlooville-directory/app/not-found.tsx"],metadata:{icon:[],apple:[],openGraph:[async e=>(await Promise.resolve().then(t.bind(t,56804))).default(e)],twitter:[],manifest:void 0}}],d=["/Users/deankeating/waterlooville-directory/app/page.tsx"],u="/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},55063:(e,r,t)=>{Promise.resolve().then(t.bind(t,34442))},34442:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>TopNav});var s=t(30784),a=t(9885),i=t(11440),n=t.n(i),l=t(52451),o=t.n(l),c=t(69518),d=t(56206),u=t(7382);function TopNav(){let[e,r]=(0,a.useState)(!1),[t,i]=(0,a.useState)(!1),[l,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let handleScroll=()=>{r(window.scrollY>10)};return window.addEventListener("scroll",handleScroll),()=>window.removeEventListener("scroll",handleScroll)},[]);let h=[{label:"News",href:"/editorial"},{label:"Directory",href:"/categories"},{label:"Areas",href:"/areas"},{label:"About",href:"/about"}];return s.jsx(s.Fragment,{children:s.jsx("nav",{className:`sticky top-0 z-50 transition-all duration-200 ${e?"bg-white/95 backdrop-blur-md shadow-sm supports-[backdrop-filter]:bg-white/80 border-b border-green-200":"bg-white border-b border-green-200"}`,children:(0,s.jsxs)("div",{className:"container mx-auto max-w-6xl px-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[s.jsx(n(),{href:"/",className:"flex items-center hover:opacity-80 transition-opacity",children:s.jsx(o(),{src:"/logo.png",alt:"Waterlooville.co - Local News, Business Directory & Community Guide",width:200,height:60,priority:!0,className:"h-auto"})}),s.jsx("div",{className:"hidden md:flex items-center space-x-8",children:h.map(e=>s.jsx(n(),{href:e.href,className:"text-gray-700 hover:text-green-600 font-medium transition-colors",children:e.label},e.href))}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>i(!t),className:"p-2 text-gray-600 hover:text-green-600 transition-colors","aria-label":"Search",children:s.jsx(c.Z,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>m(!l),className:"md:hidden p-2 text-gray-600 hover:text-green-600 transition-colors","aria-label":"Menu",children:l?s.jsx(d.Z,{className:"w-5 h-5"}):s.jsx(u.Z,{className:"w-5 h-5"})})]})]}),t&&s.jsx("div",{className:"pb-4",children:(0,s.jsxs)("form",{role:"search",className:"relative",children:[s.jsx("input",{type:"search",placeholder:"Search businesses, services...",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",autoFocus:!0}),s.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-green-600",children:s.jsx(c.Z,{className:"w-5 h-5"})})]})}),l&&s.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:s.jsx("div",{className:"flex flex-col space-y-4",children:h.map(e=>s.jsx(n(),{href:e.href,className:"text-gray-700 hover:text-green-600 font-medium transition-colors py-2",onClick:()=>m(!1),children:e.label},e.href))})})]})})})}},71322:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>HomePage});var s=t(4656),a=t(95153);let i=(0,a.createProxy)(String.raw`/Users/deankeating/waterlooville-directory/app/(site)/components/TopNav.tsx`),{__esModule:n,$$typeof:l}=i,o=i.default;var c=t(69363);async function getArticleBusinessImage(e){try{if(e.heroImage&&"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=400&fit=crop"!==e.heroImage)return e.heroImage;if(e.relatedBusinesses&&e.relatedBusinesses.length>0){let r=e.relatedBusinesses[0],t=await (0,c.sP)(r);if(t&&t.images&&t.images.length>0)return t.images[0]}return"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=400&fit=crop"}catch(e){return console.error("Error getting business image for article:",e),"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=400&fit=crop"}}async function getFeatureArticle(){try{let e=await t.e(6153).then(t.t.bind(t,66153,19)),r=e.default,s=r.filter(e=>!0===e.featured).sort((e,r)=>new Date(r.publishedAt).getTime()-new Date(e.publishedAt).getTime())[0];if(!s)return null;let a=await getArticleBusinessImage(s);return{slug:s.slug,title:s.title,excerpt:s.excerpt,imageUrl:a,publishedAt:s.publishedAt,kicker:s.category||"Local Guide",category:s.category,author:s.author,featured:s.featured,readTime:s.readTime}}catch(e){return console.error("Error fetching feature article:",e),null}}async function getLatestArticles(e=9){try{let r=await t.e(6153).then(t.t.bind(t,66153,19)),s=r.default,a=s.sort((e,r)=>new Date(r.publishedAt).getTime()-new Date(e.publishedAt).getTime()).slice(0,e),i=await Promise.all(a.map(async e=>{let r=await getArticleBusinessImage(e);return{slug:e.slug,title:e.title,excerpt:e.excerpt,imageUrl:r,publishedAt:e.publishedAt,kicker:e.category||"Local News",category:e.category,author:e.author,featured:e.featured,readTime:e.readTime}}));return i}catch(e){return console.error("Error fetching latest articles:",e),[]}}async function getTopCategories(e=12){try{let r=await (0,c.CP)(),t={carpenters:"\uD83D\uDD28","coffee-shops":"☕","estate-agents":"\uD83C\uDFE0","web-designers":"\uD83D\uDCBB",restaurants:"\uD83C\uDF7D️",takeaways:"\uD83C\uDF55",hairdressers:"✂️","beauty-salons":"\uD83D\uDC84",dentists:"\uD83E\uDDB7",doctors:"\uD83D\uDC68‍⚕️",vets:"\uD83D\uDC15",plumbers:"\uD83D\uDD27",electricians:"⚡",handyman:"\uD83D\uDEE0️","taxi-firms":"\uD83D\uDE95","pet-shops":"\uD83D\uDC3E"};return r.slice(0,e).map(e=>({slug:e.slug,label:e.name,icon:t[e.slug]||"\uD83D\uDCCD",name:e.name,description:e.description}))}catch(e){return console.error("Error fetching categories:",e),[]}}async function HomePage(){let[e,r,t]=await Promise.all([getFeatureArticle(),getLatestArticles(6),getTopCategories(12)]);return(0,s.jsxs)(s.Fragment,{children:[s.jsx(o,{}),(0,s.jsxs)("main",{className:"container mx-auto max-w-6xl px-4 py-8",children:[s.jsx("section",{className:"mb-12",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-green-200 p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Latest News"}),e&&s.jsx("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-lg p-6 text-white",children:[s.jsx("div",{className:"flex items-center mb-3",children:s.jsx("span",{className:"bg-white text-green-600 px-3 py-1 rounded-full text-sm font-semibold",children:e.kicker||"Featured"})}),s.jsx("h2",{className:"text-2xl font-bold mb-3",children:s.jsx("a",{href:`/editorial/${e.slug}`,className:"hover:text-green-100 transition-colors",children:e.title})}),e.excerpt&&s.jsx("p",{className:"text-green-100 mb-4",children:e.excerpt}),(0,s.jsxs)("a",{href:`/editorial/${e.slug}`,className:"inline-flex items-center bg-white text-green-600 px-4 py-2 rounded-lg font-semibold hover:bg-green-50 transition-colors",children:["Read more",s.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.slice(0,6).map(e=>(0,s.jsxs)("article",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:"flex items-center mb-2",children:s.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-semibold",children:e.kicker||"News"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:s.jsx("a",{href:`/editorial/${e.slug}`,className:"hover:text-green-600 transition-colors",children:e.title})}),e.excerpt&&s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.excerpt}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsx("span",{children:e.publishedAt?new Date(e.publishedAt).toLocaleDateString("en-GB"):"Recent"}),s.jsx("a",{href:`/editorial/${e.slug}`,className:"text-green-600 hover:text-green-700 font-medium",children:"Read →"})]})]},e.slug))}),s.jsx("div",{className:"text-center mt-6",children:(0,s.jsxs)("a",{href:"/editorial",className:"inline-flex items-center bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:["View All News",s.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})}),s.jsx("section",{className:"mb-12",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-green-200 p-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Business Directory"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Find trusted local businesses in Waterlooville and surrounding areas"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:t.map(e=>(0,s.jsxs)("a",{href:`/categories/${e.slug}`,className:"group bg-gray-50 hover:bg-green-50 rounded-lg p-4 text-center transition-colors border border-gray-200 hover:border-green-300",children:[s.jsx("div",{className:"text-3xl mb-2 group-hover:scale-110 transition-transform",children:e.icon}),s.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-green-700 text-sm",children:e.label})]},e.slug))}),s.jsx("div",{className:"text-center mt-8",children:(0,s.jsxs)("a",{href:"/categories",className:"inline-flex items-center bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:["Browse All Categories",s.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})}),s.jsx("section",{className:"mb-12",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-lg p-8 text-white text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Can't find what you're looking for?"}),s.jsx("p",{className:"mb-6",children:"Search our directory of 500+ local businesses"}),s.jsx("div",{className:"max-w-md mx-auto",children:(0,s.jsxs)("form",{action:"/search",method:"GET",className:"flex gap-2",children:[s.jsx("input",{type:"text",name:"query",placeholder:"Search businesses...",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-white focus:outline-none"}),s.jsx("button",{type:"submit",className:"bg-white text-green-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Search"})]})})]})})]})]})}}};var r=require("../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[6126,5855,614,6686,9775,4107,816,9363],()=>__webpack_exec__(70537));module.exports=t})();