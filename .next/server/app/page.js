(()=>{var e={};e.id=1931,e.ids=[1931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14021:e=>{"use strict";e.exports=import("next/dist/compiled/@vercel/og/index.node.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},70537:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>g,tree:()=>c});var s=r(67096),a=r(16132),i=r(37284),l=r.n(i),n=r(32564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,61976)),"/Users/deankeating/waterlooville-directory/app/page.tsx"],metadata:{icon:[],apple:[],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,56804))).default(e)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,35345)),"/Users/deankeating/waterlooville-directory/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,38196)),"/Users/deankeating/waterlooville-directory/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,44293)),"/Users/deankeating/waterlooville-directory/app/not-found.tsx"],metadata:{icon:[],apple:[],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,56804))).default(e)],twitter:[],manifest:void 0}}],d=["/Users/deankeating/waterlooville-directory/app/page.tsx"],m="/page",u={require:r,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1019:(e,t,r)=>{Promise.resolve().then(r.bind(r,34442)),Promise.resolve().then(r.t.bind(r,46686,23))},20778:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>o});var s=r(95153);let a=(0,s.createProxy)(String.raw`/Users/deankeating/waterlooville-directory/app/(site)/components/TopNav.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,o=n},61976:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>HomePage,dynamic:()=>o});var s=r(4656),a=r(20778),i=r(69363);async function getArticleBusinessImage(e){try{if(e.relatedBusinesses&&e.relatedBusinesses.length>0){let t=e.relatedBusinesses[0],r=await (0,i.sP)(t);if(r&&r.images&&r.images.length>0)return r.images[0]}if(e.heroImage&&"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=400&fit=crop"!==e.heroImage)return e.heroImage;return"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=400&fit=crop"}catch(e){return"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=400&fit=crop"}}async function getFeatureArticle(){try{let e=await r.e(6153).then(r.t.bind(r,66153,19)),t=e.default,s=t.filter(e=>!0===e.featured).sort((e,t)=>new Date(t.publishedAt).getTime()-new Date(e.publishedAt).getTime())[0];if(!s)return null;let a=await getArticleBusinessImage(s);return{slug:s.slug,title:s.title,excerpt:s.excerpt,imageUrl:a,publishedAt:s.publishedAt,kicker:s.category||"Local Guide",category:s.category,author:s.author,featured:s.featured,readTime:s.readTime}}catch(e){return console.error("Error fetching feature article:",e),null}}async function getLatestArticles(e=9){try{let t=await r.e(6153).then(r.t.bind(r,66153,19)),s=t.default,a=s.sort((e,t)=>new Date(t.publishedAt).getTime()-new Date(e.publishedAt).getTime()).slice(0,e),i=await Promise.all(a.map(async e=>{let t=await getArticleBusinessImage(e);return{slug:e.slug,title:e.title,excerpt:e.excerpt,imageUrl:t,publishedAt:e.publishedAt,kicker:e.category||"Local News",category:e.category,author:e.author,featured:e.featured,readTime:e.readTime}}));return i}catch(e){return console.error("Error fetching latest articles:",e),[]}}async function getTopCategories(e=12){try{let t=await (0,i.CP)(),r={carpenters:"\uD83D\uDD28","coffee-shops":"☕","estate-agents":"\uD83C\uDFE0","web-designers":"\uD83D\uDCBB",restaurants:"\uD83C\uDF7D️",takeaways:"\uD83C\uDF55",hairdressers:"✂️","beauty-salons":"\uD83D\uDC84",dentists:"\uD83E\uDDB7",doctors:"\uD83D\uDC68‍⚕️",vets:"\uD83D\uDC15",plumbers:"\uD83D\uDD27",electricians:"⚡",handyman:"\uD83D\uDEE0️","taxi-firms":"\uD83D\uDE95","pet-shops":"\uD83D\uDC3E"};return t.slice(0,e).map(e=>({slug:e.slug,label:e.name,icon:r[e.slug]||"\uD83D\uDCCD",name:e.name,description:e.description}))}catch(e){return console.error("Error fetching categories:",e),[]}}var l=r(58639),n=r.n(l);let o="force-dynamic";async function HomePage(){let[e,t,r]=await Promise.all([getFeatureArticle(),getLatestArticles(6),getTopCategories(12)]);return(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.ZP,{}),(0,s.jsxs)("main",{className:"container mx-auto max-w-6xl px-4 py-8",children:[s.jsx("section",{className:"mb-12",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-green-200 p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Latest News"}),e&&s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,s.jsxs)("div",{className:"md:flex",children:[e.imageUrl&&(0,s.jsxs)("div",{className:"md:w-1/2 relative h-64 md:h-auto",children:[s.jsx("img",{src:"https://images.pexels.com/photos/1319460/pexels-photo-1319460.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",alt:e.title,className:"w-full h-full object-cover",onError:e=>{console.log("Image failed to load, trying fallback"),e.currentTarget.src="https://via.placeholder.com/800x600/4ade80/ffffff?text=Barber+Shop"}}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-sm font-semibold",children:e.kicker||"Featured"})}),(0,s.jsxs)("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-50 text-white text-xs p-2 rounded",children:["Debug: ",e.imageUrl]})]}),(0,s.jsxs)("div",{className:`p-6 ${e.imageUrl?"md:w-1/2":"w-full"} bg-gradient-to-r from-green-600 to-green-700 text-white`,children:[!e.imageUrl&&s.jsx("div",{className:"flex items-center mb-3",children:s.jsx("span",{className:"bg-white text-green-600 px-3 py-1 rounded-full text-sm font-semibold",children:e.kicker||"Featured"})}),s.jsx("h2",{className:"text-2xl font-bold mb-3",children:s.jsx("a",{href:`/editorial/${e.slug}`,className:"hover:text-green-100 transition-colors",children:e.title})}),e.excerpt&&s.jsx("p",{className:"text-green-100 mb-4",children:e.excerpt}),(0,s.jsxs)("a",{href:`/editorial/${e.slug}`,className:"inline-flex items-center bg-white text-green-600 px-4 py-2 rounded-lg font-semibold hover:bg-green-50 transition-colors",children:["Read more",s.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.slice(0,6).map(e=>(0,s.jsxs)("article",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[e.imageUrl&&(0,s.jsxs)("div",{className:"relative h-48 w-full",children:[s.jsx(n(),{src:e.imageUrl,alt:e.title,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("span",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs font-semibold",children:e.kicker||"News"})})]}),(0,s.jsxs)("div",{className:"p-4",children:[!e.imageUrl&&s.jsx("div",{className:"flex items-center mb-2",children:s.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-semibold",children:e.kicker||"News"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:s.jsx("a",{href:`/editorial/${e.slug}`,className:"hover:text-green-600 transition-colors",children:e.title})}),e.excerpt&&s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.excerpt}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsx("span",{children:e.publishedAt?new Date(e.publishedAt).toLocaleDateString("en-GB"):"Recent"}),s.jsx("a",{href:`/editorial/${e.slug}`,className:"text-green-600 hover:text-green-700 font-medium",children:"Read →"})]})]})]},e.slug))}),s.jsx("div",{className:"text-center mt-6",children:(0,s.jsxs)("a",{href:"/editorial",className:"inline-flex items-center bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:["View All News",s.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})}),s.jsx("section",{className:"mb-12",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-green-200 p-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Business Directory"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Find trusted local businesses in Waterlooville and surrounding areas"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:r.map(e=>(0,s.jsxs)("a",{href:`/${e.slug}`,className:"group bg-gray-50 hover:bg-green-50 rounded-lg p-4 text-center transition-colors border border-gray-200 hover:border-green-300",children:[s.jsx("div",{className:"text-3xl mb-2 group-hover:scale-110 transition-transform",children:e.icon}),s.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-green-700 text-sm",children:e.label})]},e.slug))}),s.jsx("div",{className:"text-center mt-8",children:(0,s.jsxs)("a",{href:"/categories",className:"inline-flex items-center bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:["Browse All Categories",s.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})}),s.jsx("section",{className:"mb-12",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-lg p-8 text-white text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Can't find what you're looking for?"}),s.jsx("p",{className:"mb-6",children:"Search our directory of 500+ local businesses"}),s.jsx("div",{className:"max-w-md mx-auto",children:(0,s.jsxs)("form",{action:"/search",method:"GET",className:"flex gap-2",children:[s.jsx("input",{type:"text",name:"query",placeholder:"Search businesses...",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-white focus:outline-none"}),s.jsx("button",{type:"submit",className:"bg-white text-green-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Search"})]})})]})})]})]})}}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[6126,5855,614,6686,8639,6812,816,9363,4442],()=>__webpack_exec__(70537));module.exports=r})();