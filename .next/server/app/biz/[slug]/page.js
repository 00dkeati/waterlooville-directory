(()=>{var e={};e.id=8316,e.ids=[8316],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},42451:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>g,tree:()=>d}),t(13612),t(11506),t(26083),t(96560);var r=t(23191),a=t(88716),l=t(37922),n=t.n(l),i=t(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["biz",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,13612)),"/Users/deankeating/waterlooville-directory/app/biz/[slug]/page.tsx"]}]},{}]},{metadata:{icon:[],apple:[],openGraph:[async e=>(await Promise.resolve().then(t.bind(t,85193))).default(e)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"/Users/deankeating/waterlooville-directory/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"/Users/deankeating/waterlooville-directory/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/deankeating/waterlooville-directory/app/not-found.tsx"],metadata:{icon:[],apple:[],openGraph:[async e=>(await Promise.resolve().then(t.bind(t,85193))).default(e)],twitter:[],manifest:void 0}}],c=["/Users/deankeating/waterlooville-directory/app/biz/[slug]/page.tsx"],m="/biz/[slug]/page",x={require:t,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/biz/[slug]/page",pathname:"/biz/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29310:(e,s,t)=>{Promise.resolve().then(t.bind(t,36420)),Promise.resolve().then(t.bind(t,50871)),Promise.resolve().then(t.bind(t,33510)),Promise.resolve().then(t.bind(t,51606)),Promise.resolve().then(t.bind(t,20762)),Promise.resolve().then(t.t.bind(t,92481,23)),Promise.resolve().then(t.t.bind(t,79404,23))},36420:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var r=t(10326),a=t(17577);function l({businessName:e,images:s}){let[t,l]=(0,a.useState)(0),n=s&&s.length>0?s:[`https://placehold.co/800x600/3b82f6/ffffff?text=${encodeURIComponent(e)}`,"https://placehold.co/800x600/8b5cf6/ffffff?text=Business+Gallery","https://placehold.co/800x600/10b981/ffffff?text=Local+Business"];return(0,r.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg mb-8",children:[r.jsx("div",{className:"relative h-96 w-full overflow-hidden",children:r.jsx("img",{src:n[t],alt:"Business image",className:"w-full h-full object-cover"})}),n.length>1&&r.jsx("div",{className:"flex gap-2 p-4 bg-gray-50 overflow-x-auto",children:n.map((e,s)=>r.jsx("button",{onClick:()=>l(s),className:"relative flex-shrink-0 w-24 h-24 rounded-lg overflow-hidden border-2",children:r.jsx("img",{src:e,alt:"Thumbnail",className:"w-full h-full object-cover"})},s))})]})}},50871:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var r=t(10326),a=t(17577);function l({businesses:e,center:s,zoom:t=13}){let l=(0,a.useRef)(null);return(0,a.useRef)(null),r.jsx("div",{className:"w-full h-64 rounded-lg overflow-hidden",children:r.jsx("div",{ref:l,className:"w-full h-full",style:{minHeight:"256px"}})})}},33510:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var r=t(10326),a=t(17577);function l({faqs:e}){let[s,t]=(0,a.useState)(new Set),l=e=>{let r=new Set(s);r.has(e)?r.delete(e):r.add(e),t(r)};return 0===e.length?null:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Frequently Asked Questions"}),r.jsx("div",{className:"space-y-4",children:e.map((e,t)=>(0,r.jsxs)("div",{className:"border-b border-gray-200 last:border-b-0 pb-4 last:pb-0",children:[(0,r.jsxs)("button",{onClick:()=>l(t),className:"w-full text-left flex justify-between items-center py-2 hover:text-blue-600 transition-colors",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.question}),r.jsx("span",{className:"text-gray-500 transform transition-transform duration-200",children:s.has(t)?"−":"+"})]}),s.has(t)&&r.jsx("div",{className:"mt-2 text-gray-700 leading-relaxed",children:e.answer})]},t))})]})}},51606:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var r=t(10326),a=t(17577);function l({businessName:e,businessSlug:s,pageSlug:t,pageTitle:l}){let[n,i]=(0,a.useState)([]),[o,d]=(0,a.useState)(!0),[c,m]=(0,a.useState)(!1),[x,g]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),[p,b]=(0,a.useState)(5),[f,j]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[N,w]=(0,a.useState)(""),D=e||l||"this page",k=s||t||"",C=async()=>{try{let e=await fetch(`/api/reviews?target=${encodeURIComponent(k)}`);if(e.ok){let s=await e.json();i(s.reviews||[])}}catch(e){console.error("Error loading reviews:",e)}finally{d(!1)}},$=async e=>{if(e.preventDefault(),y(""),w(""),!u.trim()||!f.trim()){y("Please fill in all fields");return}if(f.length<10){y("Message must be at least 10 characters long");return}m(!0);try{let e=await fetch("/api/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({businessName:D,businessSlug:k,userName:u.trim(),rating:p,message:f.trim()})}),s=await e.json();e.ok?(w("Thank you! Your review has been submitted."),h(""),b(5),j(""),g(!1),C()):y(s.error||"Failed to submit review")}catch(e){y("Failed to submit review. Please try again.")}finally{m(!1)}},_=e=>new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),S=(e,s=!1,t)=>r.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(a=>r.jsx("button",{type:s?"button":void 0,onClick:()=>s&&t&&t(a),disabled:!s,className:`text-2xl ${a<=e?"text-yellow-400":"text-gray-300"} ${s?"hover:text-yellow-400 cursor-pointer transition-colors":""}`,children:"★"},a))}),P=n.length>0?(n.reduce((e,s)=>e+s.rating,0)/n.length).toFixed(1):"0.0";return(0,r.jsxs)("section",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Community Reviews"}),n.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-yellow-400 text-xl",children:"★"}),r.jsx("span",{className:"font-bold text-lg",children:P})]}),(0,r.jsxs)("span",{className:"text-gray-600",children:["(",n.length," ",1===n.length?"review":"reviews",")"]})]})]}),r.jsx("button",{onClick:()=>g(!x),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors",children:x?"Cancel":"Leave a Review"})]}),x&&(0,r.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Share Your Experience"}),(0,r.jsxs)("form",{onSubmit:$,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"userName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Name"}),r.jsx("input",{type:"text",id:"userName",value:u,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your name",maxLength:50,required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rating"}),S(p,!0,b)]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Review"}),r.jsx("textarea",{id:"message",value:f,onChange:e=>j(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4,placeholder:`Share your experience with ${D}...`,maxLength:500,required:!0}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[f.length,"/500 characters"]})]}),v&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:v}),N&&r.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:N}),r.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-6 rounded-lg font-bold text-white transition-colors ${c?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:c?"Submitting...":"Submit Review"})]})]}),o?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.length>0?r.jsx("div",{className:"space-y-4",children:n.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-bold text-gray-900 text-lg",children:e.userName}),r.jsx("p",{className:"text-sm text-gray-500",children:_(e.createdAt)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[S(e.rating),(0,r.jsxs)("span",{className:"font-semibold text-gray-700",children:[e.rating,".0"]})]})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.message})]},e.id))}):(0,r.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No reviews yet"}),r.jsx("p",{className:"text-gray-500",children:"Be the first to share your experience!"})]})]})}},20762:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var r=t(10326),a=t(17577);function l({businessName:e,facebookUrl:s,instagramUrl:t,twitterUrl:l}){let[n,i]=(0,a.useState)([]);return s||t||l?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("span",{className:"text-2xl",children:"\uD83D\uDCF1"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Social Media Updates"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[s&&(0,r.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[r.jsx("span",{children:"\uD83D\uDCD8"}),r.jsx("span",{children:"Facebook"})]}),t&&(0,r.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg font-medium transition-colors",children:[r.jsx("span",{children:"\uD83D\uDCF8"}),r.jsx("span",{children:"Instagram"})]}),l&&(0,r.jsxs)("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-black hover:bg-gray-800 text-white rounded-lg font-medium transition-colors",children:[r.jsx("span",{children:"\uD835\uDD4F"}),r.jsx("span",{children:"Twitter/X"})]})]}),n.length>0&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Recent Updates"}),n.map((e,s)=>(0,r.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xl",children:e.icon}),r.jsx("span",{className:"font-semibold text-gray-900",children:e.platform}),r.jsx("span",{className:"text-gray-400",children:"•"}),r.jsx("span",{className:"text-sm text-gray-500",children:e.timestamp})]}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e.text})]},s)),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["\uD83D\uDCA1 Follow ",e," on social media for the latest updates, offers, and news"]})})]})]}):(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"text-2xl",children:"\uD83D\uDCF1"}),r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Connect on Social Media"})]}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm",children:["Follow ",e," on social media for updates, offers and news."]})]})}},13612:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b,generateMetadata:()=>p,runtime:()=>h});var r=t(19510),a=t(58585),l=t(9487),n=t(26075),i=t(82261),o=t(74477),d=t(68570);let c=(0,d.createProxy)(String.raw`/Users/deankeating/waterlooville-directory/components/BusinessMap.tsx#default`),m=(0,d.createProxy)(String.raw`/Users/deankeating/waterlooville-directory/components/BusinessGallery.tsx#default`);var x=t(70671);let g=(0,d.createProxy)(String.raw`/Users/deankeating/waterlooville-directory/components/SocialMediaFeed.tsx#default`);var u=t(82001);let h="nodejs";async function p({params:e}){try{let s=await (0,l.sP)(e.slug);if(!s)return{title:"Business Not Found"};let[t,r]=await Promise.all([(0,l.fj)(s.category),(0,l.ND)(s.area)]),a=`${s.name} - ${t?.name||s.category} in ${r?.name||s.area}`,n=s.description||`${s.name} is a professional ${s.category} service in ${s.area}. Contact us for quality service and expert advice.`;return{title:`${a} | Waterlooville Directory`,description:n,openGraph:{title:a,description:n,type:"website"}}}catch(s){return console.error("[METADATA_ERROR]",{path:`/biz/${e.slug}`,error:s instanceof Error?s.message:String(s)}),{title:"Business Not Found"}}}async function b({params:e}){try{let s=await (0,l.sP)(e.slug);s||(0,a.notFound)();let[t,d,h,p]=await Promise.all([(0,l.fj)(s.category),(0,l.ND)(s.area),(0,l.Zv)(3),(0,l.AN)(s.category,s.area,4)]),b=p.filter(e=>e.id!==s.id).slice(0,3),f=(()=>{if(!s.opening_hours_json)return null;try{return JSON.parse(s.opening_hours_json)}catch{return null}})(),j=()=>{if(!f)return null;let e=f[new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()];return"Closed"!==e&&e&&"Closed"!==e},v=[{question:`What services does ${s.name} offer?`,answer:s.description||`${s.name} provides professional ${s.category} services in ${s.area}. Contact them directly for specific service details and pricing.`},{question:`How can I contact ${s.name}?`,answer:s.phone?`You can reach ${s.name} by phone at ${s.phone}. ${s.website?`You can also visit their website at ${s.website}.`:""}`:`Contact information for ${s.name} is available in their listing.`},{question:`Where is ${s.name} located?`,answer:s.address?`${s.name} is located at ${s.address}, ${s.area}.`:`${s.name} serves the ${s.area} area.`}],y={"@context":"https://schema.org","@type":"LocalBusiness",name:s.name,description:s.description,url:`https://waterloovilledirectory.co.uk/biz/${s.slug}`,telephone:s.phone,address:{"@type":"PostalAddress",streetAddress:s.address,addressLocality:s.area,postalCode:s.postcode,addressCountry:"GB"},geo:s.lat&&s.lng?{"@type":"GeoCoordinates",latitude:s.lat,longitude:s.lng}:void 0,aggregateRating:(s.rating||0)>0?{"@type":"AggregateRating",ratingValue:Math.max(0,Math.min(5,s.rating||0)),reviewCount:s.review_count||0}:void 0,openingHours:s.opening_hours_json?JSON.parse(s.opening_hours_json):void 0};return(0,r.jsxs)(r.Fragment,{children:[r.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(y)}}),r.jsx(n.Z,{items:[{label:t?.name||s.category,href:`/${s.category}`},{label:d?.name||s.area,href:`/${s.category}/${s.area}`},{label:s.name}]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-3",children:[(0,r.jsxs)("header",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:s.name}),(0,r.jsxs)("p",{className:"text-xl text-gray-600",children:[t?.name||s.category," in ",d?.name||s.area]})]}),s.featured&&r.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-sm font-medium px-3 py-1 rounded-full",children:"Featured Business"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4 flex-wrap",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-yellow-400 text-lg mr-2",children:(e=>{let s=Math.max(0,Math.min(5,e||0));return"★".repeat(Math.floor(s))+"☆".repeat(5-Math.floor(s))})(s.rating)}),(0,r.jsxs)("span",{className:"text-gray-700 font-semibold",children:[(s.rating||0).toFixed(1)," (",s.review_count||0," reviews)"]})]}),null!==j()&&r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${j()?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j()?"\uD83D\uDFE2 Open Now":"\uD83D\uDD34 Closed"})]})]}),(0,r.jsxs)("section",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"text-2xl",children:"✨"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"AI Business Overview"})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:(()=>{let e=s.rating||0,r=s.review_count||0,a="";a=e>=4.8?"exceptional quality and outstanding customer satisfaction":e>=4.5?"excellent service and high customer satisfaction":e>=4?"quality service and positive customer feedback":"professional service";let l="";return l=r>200?"extensive experience serving hundreds of satisfied customers":r>100?"proven track record with over a hundred happy customers":r>50?"growing reputation in the local community":"commitment to customer satisfaction",`${s.name} is a trusted ${t?.name||s.category} in ${d?.name||s.area}, known for ${a}. With ${l}, they have established themselves as a reliable choice for local residents. ${s.description||""}`})()})]}),(0,r.jsxs)("section",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Why Choose ",s.name,"?"]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:(()=>{let e=[];return s.rating>=4.5&&(e.push("⭐ Consistently high ratings"),e.push("\uD83D\uDC4D Highly recommended by customers")),s.review_count>100&&e.push("\uD83D\uDCAF Trusted by hundreds of customers"),s.review_count>50&&e.push("\uD83D\uDCC8 Growing positive reputation"),e.push("✓ Verified local business"),e.push("\uD83D\uDCCD Conveniently located in "+(d?.name||s.area)),e})().map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"text-green-600 font-bold text-lg",children:"✓"}),r.jsx("span",{className:"text-gray-700",children:e})]},s))})]}),s.aggregated_reviews&&s.aggregated_reviews.length>0&&(0,r.jsxs)("section",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[r.jsx("span",{children:"\uD83D\uDCAC"}),"Customer Reviews"]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[s.aggregated_reviews.filter(e=>e.rating>=4).length," positive • ",s.aggregated_reviews.filter(e=>e.rating<=2).length," negative"]})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-green-700 mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"\uD83D\uDC4D"}),"Positive Reviews"]}),r.jsx("div",{className:"space-y-4",children:s.aggregated_reviews.filter(e=>e.rating>=4).slice(0,3).map((e,s)=>(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-green-800",children:e.author_name}),r.jsx("div",{className:"flex",children:Array.from({length:5},(s,t)=>r.jsx("span",{className:`text-sm ${t<e.rating?"text-green-500":"text-gray-300"}`,children:"★"},t))})]}),r.jsx("span",{className:"text-xs text-green-600 font-medium bg-green-100 px-2 py-1 rounded",children:e.source})]}),(0,r.jsxs)("p",{className:"text-green-700 text-sm leading-relaxed mb-2",children:['"',e.text,'"']}),r.jsx("div",{className:"text-xs text-green-600",children:new Date(e.date).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})})]},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-orange-700 mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"⚠️"}),"Areas for Improvement"]}),r.jsx("div",{className:"space-y-4",children:s.aggregated_reviews.filter(e=>e.rating<=2).slice(0,3).map((e,s)=>(0,r.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-orange-800",children:e.author_name}),r.jsx("div",{className:"flex",children:Array.from({length:5},(s,t)=>r.jsx("span",{className:`text-sm ${t<e.rating?"text-orange-500":"text-gray-300"}`,children:"★"},t))})]}),r.jsx("span",{className:"text-xs text-orange-600 font-medium bg-orange-100 px-2 py-1 rounded",children:e.source})]}),(0,r.jsxs)("p",{className:"text-orange-700 text-sm leading-relaxed mb-2",children:['"',e.text,'"']}),r.jsx("div",{className:"text-xs text-orange-600",children:new Date(e.date).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})})]},s))})]})]}),r.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Review Summary:"})," Based on ",s.aggregated_reviews.length," customer reviews from Google, Trustpilot, and other platforms"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Balanced perspective"})]})})]}),s.images&&s.images.length>0&&r.jsx(m,{businessName:s.name,images:s.images}),(0,r.jsxs)("section",{className:"bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-xl shadow-lg p-8 mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Get in Touch"}),(0,r.jsxs)("div",{className:"space-y-4",children:[s.phone&&(0,r.jsxs)("a",{href:`tel:${s.phone}`,className:"flex items-center gap-4 p-4 bg-white/10 backdrop-blur-sm rounded-lg hover:bg-white/20 transition-all group",children:[r.jsx("span",{className:"text-3xl",children:"\uD83D\uDCDE"}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-sm text-blue-100",children:"Call Us"}),r.jsx("div",{className:"text-lg font-semibold group-hover:text-blue-100",children:s.phone})]})]}),s.website&&(0,r.jsxs)("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-4 bg-white/10 backdrop-blur-sm rounded-lg hover:bg-white/20 transition-all group",children:[r.jsx("span",{className:"text-3xl",children:"\uD83C\uDF10"}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-sm text-blue-100",children:"Visit Website"}),r.jsx("div",{className:"text-lg font-semibold group-hover:text-blue-100 truncate",children:"View Online →"})]})]}),s.address&&(0,r.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-white/10 backdrop-blur-sm rounded-lg",children:[r.jsx("span",{className:"text-3xl",children:"\uD83D\uDCCD"}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-sm text-blue-100",children:"Address"}),(0,r.jsxs)("div",{className:"text-lg font-semibold",children:[s.address,s.postcode&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("br",{}),s.postcode]})]})]})]}),s.lat&&s.lng?r.jsx("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${s.lat},${s.lng}`,target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-white text-blue-600 py-3 px-6 rounded-lg font-bold hover:bg-blue-50 transition-colors",children:"Get Directions →"}):r.jsx("div",{className:"block w-full text-center bg-gray-100 text-gray-400 py-3 px-6 rounded-lg font-bold cursor-not-allowed",children:"Directions Unavailable"})]})]}),(0,r.jsxs)("section",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Location"}),r.jsx(c,{businesses:[s],center:s.lat&&s.lng?{lat:s.lat,lng:s.lng}:void 0,zoom:15})]}),f&&(0,r.jsxs)("section",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Opening Hours"}),r.jsx("div",{className:"space-y-2",children:Object.entries(f).map(([e,s])=>{let t=String(s),a=new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()===e,l="Closed"===t;return(0,r.jsxs)("div",{className:`flex justify-between items-center p-3 rounded-lg ${a?"bg-blue-50 border-2 border-blue-200 font-semibold":"bg-gray-50"}`,children:[(0,r.jsxs)("span",{className:"capitalize text-gray-900",children:[a&&"→ ",e,a&&" (Today)"]}),r.jsx("span",{className:l?"text-red-600 font-medium":"text-green-700 font-medium",children:t})]},e)})})]}),r.jsx(g,{businessName:s.name,facebookUrl:s.facebook_url,instagramUrl:s.instagram_url,twitterUrl:s.twitter_url}),r.jsx(u.Z,{businessName:s.name,businessSlug:s.slug}),b.length>0&&(0,r.jsxs)("section",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Similar ",t?.name||s.category," in ",d?.name||s.area]}),r.jsx("div",{className:"grid gap-6",children:b.map(e=>r.jsx(x.Z,{business:e},e.id))})]}),r.jsx(o.Z,{faqs:v})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx(i.Z,{currentCategory:s.category,currentArea:s.area,featuredBusinesses:h})})]})]})}catch(s){throw console.error("[PAGE_ERROR]",{path:`/biz/${e.slug}`,slug:e.slug,error:s instanceof Error?s.message:String(s)}),s}}},26075:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var r=t(19510),a=t(57371);function l({items:e}){return(0,r.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-6",children:[r.jsx(a.default,{href:"/",className:"breadcrumb-link",children:"Home"}),e.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.href?r.jsx(a.default,{href:e.href,className:"breadcrumb-link",children:e.label}):r.jsx("span",{className:"text-gray-900 font-medium",children:e.label})]},s))]})}},74477:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(68570).createProxy)(String.raw`/Users/deankeating/waterlooville-directory/components/FAQ.tsx#default`)},82001:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(68570).createProxy)(String.raw`/Users/deankeating/waterlooville-directory/components/MessageBoard.tsx#default`)},82261:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var r=t(19510),a=t(57371);function l({currentCategory:e,currentArea:s,categories:t=[],areas:l=[],featuredBusinesses:n=[]}){let i=t.filter(s=>s.slug!==e),o=l.filter(e=>e.slug!==s);return(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Related Links"}),(0,r.jsxs)("div",{className:"space-y-6",children:[i.length>0&&(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Other Categories"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:i.slice(0,5).map(e=>r.jsx(a.default,{href:`/${e.slug}`,className:"text-sm bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors",children:e.name},e.id))})]}),o.length>0&&(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Nearby Areas"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:o.slice(0,5).map(e=>r.jsx(a.default,{href:`/area/${e.slug}`,className:"text-sm bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors",children:e.name},e.id))})]}),n.length>0&&(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Featured Businesses"}),r.jsx("div",{className:"space-y-2",children:n.slice(0,3).map(e=>r.jsx(a.default,{href:`/biz/${e.slug}`,className:"block text-sm text-blue-600 hover:text-blue-800 transition-colors",children:e.name},e.id))})]})]})]})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8948,3228,9168,2481,7710,1111,9716],()=>t(42451));module.exports=r})();