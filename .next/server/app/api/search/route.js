"use strict";(()=>{var e={};e.id=280,e.ids=[280],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},28227:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>f,routeModule:()=>d,serverHooks:()=>w,staticGenerationAsyncStorage:()=>p});var a={};r.r(a),r.d(a,{GET:()=>c,runtime:()=>l});var n=r(49303),i=r(88716),o=r(60670),s=r(87070),u=r(9487);let l="nodejs";async function c(e){try{let t=e.nextUrl.searchParams,r=t.get("q")||"",a=t.get("category")||"",n=t.get("area")||"",i=await (0,u.bd)(a||void 0,n||void 0);if(r){let e=r.toLowerCase();i=i.filter(t=>t.name.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e)||t.category.toLowerCase().includes(e)||t.area.toLowerCase().includes(e))}return s.NextResponse.json(i)}catch(e){return console.error("[API_ERROR]",{route:"/api/search",error:e instanceof Error?e.message:String(e)}),s.NextResponse.json({error:"Internal Server Error"},{status:500})}}let d=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/search/route",pathname:"/api/search",filename:"route",bundlePath:"app/api/search/route"},resolvedPagePath:"/Users/deankeating/waterlooville-directory/app/api/search/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:f,staticGenerationAsyncStorage:p,serverHooks:w}=d,g="/api/search/route";function h(){return(0,o.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:p})}},9487:(e,t,r)=>{r.d(t,{AN:()=>d,CP:()=>f,ND:()=>g,Zv:()=>h,ao:()=>w,bd:()=>y,fj:()=>p,sP:()=>c});let a=null,n=null,i=null,o=null,s=0;async function u(){let e=Date.now();n&&i&&o&&e-s<3e5||((!n||e-s>=3e5)&&(n=(await r.e(4694).then(r.t.bind(r,94694,19))).default),(!i||e-s>=3e5)&&(i=(await r.e(6923).then(r.t.bind(r,86923,19))).default),(!o||e-s>=3e5)&&(o=(await r.e(9021).then(r.t.bind(r,39021,19))).default),s=e)}async function l(){let e=Date.now();(!a||e-s>=3e5)&&(a=(await r.e(6792).then(r.t.bind(r,76792,19))).default),(!i||e-s>=3e5)&&(i=(await r.e(6923).then(r.t.bind(r,86923,19))).default),(!o||e-s>=3e5)&&(o=(await r.e(9021).then(r.t.bind(r,39021,19))).default),s=e}async function c(e){return await l(),a.find(t=>t.slug===e)||null}async function d(e,t,r){await u();let a=n.filter(r=>r.category===e&&r.area===t);return r&&(a=a.slice(0,r)),a}async function f(){return await u(),i}async function p(e){return await u(),i.find(t=>t.slug===e)||null}async function w(){return await u(),o}async function g(e){return await u(),o.find(t=>t.slug===e)||null}async function h(e=6,t){return await u(),n.filter(e=>e.featured&&(!t||e.area===t)).sort((e,t)=>t.rating-e.rating).slice(0,e)}async function y(e,t){await u();let r=n;return"string"==typeof e?(r=r.filter(t=>t.category===e),t&&(r=r.filter(e=>e.area===t))):"number"==typeof e&&(r=r.slice(0,e)),r}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,5972],()=>r(28227));module.exports=a})();