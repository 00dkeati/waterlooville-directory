"use strict";(()=>{var e={};e.id=8829,e.ids=[8829],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84629:e=>{e.exports=import("@libsql/client")},95271:(e,t,r)=>{r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{originalPathname:()=>_,patchFetch:()=>u,requestAsyncStorage:()=>p,routeModule:()=>T,serverHooks:()=>R,staticGenerationAsyncStorage:()=>l});var a=r(49303),s=r(88716),o=r(60670),i=r(14540),c=e([i]);i=(c.then?(await c)():c)[0];let T=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"/Users/deankeating/waterlooville-directory/app/api/health/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:p,staticGenerationAsyncStorage:l,serverHooks:R}=T,_="/api/health/route";function u(){return(0,o.patchFetch)({serverHooks:R,staticGenerationAsyncStorage:l})}n()}catch(e){n(e)}})},14540:(e,t,r)=>{r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{GET:()=>i,runtime:()=>c});var a=r(87070),s=r(76938),o=e([s]);s=(o.then?(await o)():o)[0];let c="nodejs";async function i(){try{let e={database:!1,environment:{TURSO_DATABASE_URL:!!process.env.TURSO_DATABASE_URL,TURSO_AUTH_TOKEN:!!process.env.TURSO_AUTH_TOKEN},timestamp:new Date().toISOString()};if(e.environment.TURSO_DATABASE_URL&&e.environment.TURSO_AUTH_TOKEN&&(e.database=await (0,s.TM)()),!(e.database&&e.environment.TURSO_DATABASE_URL&&e.environment.TURSO_AUTH_TOKEN))return console.error("[HEALTH_CHECK_FAILED]",e),a.NextResponse.json(e,{status:500});return a.NextResponse.json({status:"healthy",...e})}catch(e){return console.error("[HEALTH_CHECK_ERROR]",{error:e instanceof Error?e.message:String(e)}),a.NextResponse.json({status:"unhealthy",error:"Health check failed",timestamp:new Date().toISOString()},{status:500})}}n()}catch(e){n(e)}})},76938:(e,t,r)=>{r.a(e,async(e,n)=>{try{r.d(t,{TM:()=>o});var a=r(84629),s=e([a]);a=(s.then?(await s)():s)[0];let i=null;async function o(){try{let e=function(){if(!i){let e=process.env.TURSO_DATABASE_URL??"",t=process.env.TURSO_AUTH_TOKEN??"";i=e&&t?(0,a.createClient)({url:e,authToken:t}):{execute:async()=>{throw Error("Database not configured")}}}return i}();return await e.execute("SELECT 1"),!0}catch(e){return console.error("[DB_PING_ERROR]",e),!1}}process.env.TURSO_DATABASE_URL||console.error("[DB_ERROR] TURSO_DATABASE_URL is missing"),process.env.TURSO_AUTH_TOKEN||console.error("[DB_ERROR] TURSO_AUTH_TOKEN is missing"),n()}catch(e){n(e)}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[8948,5972],()=>r(95271));module.exports=n})();