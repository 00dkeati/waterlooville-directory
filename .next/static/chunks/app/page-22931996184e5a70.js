(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{960:function(e,s,t){Promise.resolve().then(t.bind(t,1782)),Promise.resolve().then(t.t.bind(t,8326,23))},1782:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return EditorialFeed}});var r=t(7437),a=t(2265),l=t(1396),i=t.n(l);function EditorialFeed(){let[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(!0),[n,c]=(0,a.useState)(null);(0,a.useEffect)(()=>{fetchArticles()},[]);let fetchArticles=async()=>{try{l(!0);let e=await fetch("/api/editorial?featured=true&limit=3");if(!e.ok)throw Error("Failed to fetch articles");let t=await e.json();s(t.articles||[])}catch(e){console.error("Error fetching articles:",e),c("Unable to load articles at this time")}finally{l(!1)}},formatDate=e=>{let s=new Date(e),t=new Date,r=Math.floor((t.getTime()-s.getTime())/36e5);return r<1?"Just now":r<24?"".concat(r,"h ago"):r<48?"Yesterday":s.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})};return t?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCDD"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Featured Stories"})]}),(0,r.jsx)("div",{className:"space-y-6",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-5 bg-gray-200 rounded w-3/4 mb-2"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},e))})]}):n?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCDD"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Featured Stories"})]}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-gray-600",children:"Check back soon for interesting stories about Waterlooville businesses!"})})]}):(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCDD"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Featured Stories"})]})}),0===e.length?(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-gray-600",children:"No featured articles available. Check back soon!"})}):(0,r.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,r.jsx)(i(),{href:"/editorial/".concat(e.slug),className:"block group",children:(0,r.jsx)("article",{className:"p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-semibold text-blue-600 bg-blue-50 rounded mb-2",children:e.category}),(0,r.jsx)("h3",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors mb-1 text-lg leading-snug",children:e.title}),e.subtitle&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-1",children:e.subtitle}),(0,r.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:e.excerpt}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[(0,r.jsx)("span",{className:"font-medium",children:e.author}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:formatDate(e.publishedAt)}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:[e.readTime," min read"]})]})]}),(0,r.jsx)("span",{className:"text-blue-500 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 text-xl",children:"→"})]})})},e.id))}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,r.jsxs)(i(),{href:"/editorial",className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center gap-1 transition-colors",children:["View all articles",(0,r.jsx)("span",{children:"→"})]})})]})}},622:function(e,s,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=t(2265),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,t){var r,l={},o=null,d=null;for(r in void 0!==t&&(o=""+t),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(d=s.ref),s)i.call(s,r)&&!c.hasOwnProperty(r)&&(l[r]=s[r]);if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===l[r]&&(l[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:d,props:l,_owner:n.current}}s.Fragment=l,s.jsx=q,s.jsxs=q},7437:function(e,s,t){"use strict";e.exports=t(622)},1396:function(e,s,t){e.exports=t(8326)}},function(e){e.O(0,[326,971,472,744],function(){return e(e.s=960)}),_N_E=e.O()}]);